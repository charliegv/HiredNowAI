{% extends "layout.html" %}
{% block content %}

<div class="max-w-md mx-auto bg-white p-10 rounded-2xl shadow-md mt-10">

  <h1 class="text-3xl font-bold mb-4 text-center text-gray-900">
    Choose a new password
  </h1>

  <p class="text-gray-600 text-center mb-8 text-sm">
    Enter your new password below.
  </p>

  <!-- Flash messages -->
  {% with messages = get_flashed_messages(with_categories=true) %}
    {% if messages %}
      {% for category, message in messages %}
        <div class="mb-4 p-3 rounded-md text-sm
          {% if category == 'error' %}
            bg-red-100 text-red-700
          {% else %}
            bg-blue-100 text-blue-700
          {% endif %}">
          {{ message }}
        </div>
      {% endfor %}
    {% endif %}
  {% endwith %}

  <form method="POST" class="space-y-6">

    <input type="hidden" name="token" value="{{ token }}"/>

    <div>
      <label class="block text-gray-700 font-medium mb-1">New password</label>
      <input type="password" name="password" required
             class="w-full border border-gray-300 rounded-xl px-4 py-3 bg-white shadow-sm
                    focus:ring-2 focus:ring-blue-500 focus:border-blue-500">
    </div>

    <button class="w-full bg-blue-600 text-white py-3 rounded-full text-lg font-semibold hover:bg-blue-700 transition shadow-md">
      Reset Password
    </button>

  </form>

  <p class="mt-6 text-center text-sm text-gray-600">
    <a href="{{ url_for('auth.login') }}" class="text-blue-600 hover:underline">Back to login</a>
  </p>

</div>

{% endblock %}
